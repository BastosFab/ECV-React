{"ast":null,"code":"var _jsxFileName = \"/Users/fabinini/Developer/react/m2dev/src/components/todolist/TodoList.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport TodoForm from \"./TodoForm\";\nimport useLocalStorage from \"../useLocalStorage\";\nimport { v4 as uuidv4 } from 'uuid';\nimport button from \"bootstrap/js/src/button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction TodoList() {\n  _s();\n\n  const {\n    getStoredItem,\n    setItemToStorage\n  } = useLocalStorage();\n  const [todoList, setTodoList] = useState(getStoredItem('todoText') || []);\n\n  const addTodo = todo => {\n    if (!todo.text || /^\\s*$/.test(todo.text)) return;\n    const newTodoList = [todo, ...todoList];\n    setTodoList(newTodoList);\n    setItemToStorage(newTodoList, 'todoText');\n  };\n\n  const handleUpdate = (newValue, index) => {\n    const todoTem = todoList.slice();\n    todoTem[index] = newValue;\n    setTodoList(todoTem);\n    setItemToStorage(todoTem, 'todoText');\n  };\n\n  const handleDelete = (event, index) => {\n    const todoTemp = todoList.slice();\n    todoTemp.splice(index, 1);\n    setTodoList(todoTemp);\n    setItemToStorage(todoTemp, 'todoText');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(TodoForm, {\n      onSubmit: addTodo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), todoList.map((listItem, index) => /*#__PURE__*/_jsxDEV(TodoLine, {\n      index: index,\n      listItem: listItem,\n      handleUpdate: handleUpdate,\n      handleDelete: handleDelete\n    }, uuidv4(), false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n\n_s(TodoList, \"lrLsTQTEEEFp+96NabK/S856F18=\", false, function () {\n  return [useLocalStorage];\n});\n\n_c = TodoList;\n\nconst TodoLine = _ref => {\n  _s2();\n\n  let {\n    index,\n    listItem,\n    handleUpdate,\n    handleDelete\n  } = _ref;\n  const [updateTodo, setUpdateTodo] = useState(false);\n  const [newValue, setNewValue] = useState(listItem);\n\n  const handleUpdateController = () => {\n    handleUpdate(newValue, index);\n  };\n\n  const handleChange = event => {\n    setNewValue(event.target.value);\n  };\n\n  const truncate = input => {\n    if (input.length > 20) {\n      return input.substring(0, 20) + '...';\n    }\n\n    return input;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'todo-container',\n    children: updateTodo ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'todo-row',\n      children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n        type: 'text',\n        value: newValue.text,\n        onChange: handleChange,\n        className: 'todo-input-edit'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'icons',\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleUpdateController,\n          className: 'check-icon',\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-check\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'todo-row',\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        name: listItem,\n        children: truncate(listItem.text)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'icons',\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: 'edit-icon',\n          children: \"checked\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => setUpdateTodo(true),\n          className: 'edit-icon',\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-pen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: event => {\n            handleDelete(event, index);\n          },\n          className: 'delete-icon',\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-trash\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(TodoLine, \"6m1UMR9wqcLmOsDpfZYYglJx1cA=\");\n\n_c2 = TodoLine;\nexport default TodoList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TodoList\");\n$RefreshReg$(_c2, \"TodoLine\");","map":{"version":3,"names":["useState","Form","TodoForm","useLocalStorage","v4","uuidv4","button","TodoList","getStoredItem","setItemToStorage","todoList","setTodoList","addTodo","todo","text","test","newTodoList","handleUpdate","newValue","index","todoTem","slice","handleDelete","event","todoTemp","splice","map","listItem","TodoLine","updateTodo","setUpdateTodo","setNewValue","handleUpdateController","handleChange","target","value","truncate","input","length","substring","e"],"sources":["/Users/fabinini/Developer/react/m2dev/src/components/todolist/TodoList.js"],"sourcesContent":["import {useState} from \"react\";\nimport {Form} from \"react-bootstrap\";\nimport TodoForm from \"./TodoForm\";\nimport useLocalStorage from \"../useLocalStorage\";\nimport { v4 as uuidv4 } from 'uuid';\nimport button from \"bootstrap/js/src/button\";\n\nfunction TodoList() {\n\n    const { getStoredItem, setItemToStorage } = useLocalStorage();\n    const [todoList, setTodoList] = useState(getStoredItem('todoText') || []);\n\n    const addTodo = todo => {\n        if (!todo.text || /^\\s*$/.test(todo.text)) return;\n\n        const newTodoList = [todo, ...todoList]\n\n        setTodoList(newTodoList);\n        setItemToStorage(newTodoList, 'todoText');\n    }\n\n    const handleUpdate = (newValue, index) => {\n        const todoTem = todoList.slice();\n        todoTem[index] = newValue;\n        setTodoList(todoTem);\n        setItemToStorage(todoTem, 'todoText');\n\n    }\n\n    const handleDelete = (event, index) => {\n        const todoTemp = todoList.slice();\n        todoTemp.splice(index, 1);\n        setTodoList(todoTemp);\n        setItemToStorage(todoTemp, 'todoText');\n    }\n\n    return (\n        <div>\n            <TodoForm onSubmit={addTodo}></TodoForm>\n            {todoList.map((listItem, index) => (\n                <TodoLine\n                 key={uuidv4()}\n                 index={index}\n                 listItem={listItem}\n                 handleUpdate={handleUpdate}\n                 handleDelete={handleDelete}\n                />\n            ))}\n        </div>\n    )\n\n}\n\nconst TodoLine = ({index, listItem, handleUpdate, handleDelete}) => {\n\n    const [updateTodo, setUpdateTodo] = useState(false);\n    const [newValue, setNewValue] = useState(listItem);\n\n    const handleUpdateController = () => {\n        handleUpdate(newValue, index);\n    }\n\n    const handleChange = (event) => {\n        setNewValue(event.target.value);\n    }\n\n    const truncate = (input) => {\n        if (input.length > 20) {\n            return input.substring(0, 20) + '...';\n        }\n        return input;\n    }\n\n    return(\n        <div className={'todo-container'}>\n            {updateTodo ?\n                <div className={'todo-row'}>\n                    <Form.Control type={'text'} value={newValue.text} onChange={handleChange} className={'todo-input-edit'}/>\n                    <div className={'icons'}>\n                        <button onClick={handleUpdateController} className={'check-icon'}>\n                            <i className=\"fa-solid fa-check\"></i>\n                        </button>\n                    </div>\n                </div> :\n            <div className={'todo-row'}>\n            <p key={index} name={listItem}>{truncate(listItem.text)}</p>\n            <div className={'icons'}>\n                <button className={'edit-icon'}>\n                    checked\n                </button>\n                <button onClick={(e)=>setUpdateTodo(true)} className={'edit-icon'}>\n                    <i className=\"fa-solid fa-pen\"></i>\n                </button>\n                <button onClick={event => {handleDelete(event, index)}} className={'delete-icon'}>\n                    <i className=\"fa-solid fa-trash\"></i>\n                </button>\n            </div>\n            </div>}\n        </div>\n    )\n}\n\nexport default TodoList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}